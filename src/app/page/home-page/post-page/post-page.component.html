<div class="switch">
  <button class="switch-list" [ngClass]="listViewSelected ? 'selected' : 'unselected'"
    (click)="listViewSelected = true">
      <p> {{ 'Posts.list' | translate | uppercase }} </p>
  </button>
  <button class="switch-grid" [ngClass]="listViewSelected ? 'unselected' : 'selected'"
    (click)="listViewSelected = false">
    <p> {{ 'Posts.grid' | translate | uppercase }} </p>
  </button>
</div>

<div *ngIf="canAccess">

  <app-create-post
    (createPostEvent)="addPost($event)"
  ></app-create-post>

  <div *ngIf="listViewSelected">
    <app-card-post
      *ngFor="let post of posts; let index = index"
      [post]="post"
      [reactPostId]="reactPostId"
      [currentUser]="currentUser"
      (reaction)="reactPost($event)"
      (delete)="removePost($event)"
    >
    </app-card-post>
  </div>

  <div *ngIf="!listViewSelected" class="view-grid">

    <div class="image-grid">
      <img
        *ngFor="let post of posts; let i = index"
        [src]="post.pictureUrl"
        [ngClass]="{'big': isBigImage(i), 'small': !isBigImage(i) }"
        (click)="openDialog(posts[i])">
    </div>


    <div *ngIf="isDialogOpen" class="dialog" #dialog>
      <app-card-post
        [post]="postDetail"
        [reactPostId]="reactPostId"
        [currentUser]="currentUser"
        [style]="'border-radius: 1.5rem; border: 0.5rem solid var(--secondary-dark);'"
        (reaction)="reactPost($event)"
        (delete)="removePost($event)"
      >
      </app-card-post>
    </div>

  </div>



</div>

<div *ngIf="!canAccess">
  <app-sign-in></app-sign-in>
</div>
